.styledGuildsAsChannels-DNHtg_ {
  // extra top padding & background
  .guilds-1SWlCJ .scrollerBase-289Jih {
    padding-top: 8px;
    background-color: var(--sgac-background-color) !important;
  }

  .wrapper-3Njo_c {
    // Uniform width
    .listItem-GuPuDH {
      width: 220px !important;
    }

    // Folder background
    .expandedFolderBackground-1cujaW {
      width: 220px !important;
      left: 8px !important;
      background-color: rgb(var(--sgac-background-light)) !important;
      border-top-style: solid;
      border-top-width: 36px;
      border-top-color: rgba(var(--sgac-text-color), 0.1);
      &.collapsed-2ZrjoL {
        background-color: rgb(var(--sgac-background-dark)) !important;
        border-top-style: none;
      }
    }

    // Folder background hover effect
    &:hover .expandedFolderBackground-1cujaW.collapsed-2ZrjoL {
      background-color: rgb(var(--sgac-background-light)) !important;
    }
  }

  // Notification badges
  .childWrapper-anI2G9 .numberBadge-2s8kKX {
    background-color: rgba(var(--sgac-text-color), 0.2) !important;
  }

  [aria-label="Servers"] {
    // Servers that ARE in folders
    .wrapper-3Njo_c .listItem-GuPuDH {
      .childWrapper-anI2G9,
      .folder-1hbNCn,
      .wrapper-1BJsBx {
        background-color: transparent !important;
        background: transparent !important;

        // Selected servers
        &.selected-bZ3Lue {
          .childWrapper-anI2G9 {
            background-color: rgb(var(--sgac-accent)) !important;
            color: rgb(var(--sgac-text-color)) !important;
          }
        }
      }
    }

    // Servers NOT in folders
    & > .listItem-GuPuDH {
      .wrapper-1BJsBx {
        .childWrapper-anI2G9 {
          padding-left: 12px !important;
          flex-direction: row-reverse !important;
          background: rgb(var(--sgac-background-dark)) !important;
          color: rgba(var(--sgac-text-color), 0.65);
          border-radius: 0 !important;
        }
        // Selected servers
        &.selected-bZ3Lue {
          .childWrapper-anI2G9 {
            background-color: rgb(var(--sgac-accent)) !important;
            color: rgb(var(--sgac-text-color)) !important;
          }
        }
      }
    }
  }

  // Smaller custom folder icons
  .betterFolders-customIcon {
    background-size: 36px;
  }
  // Hide original folder icons
  .guilds-1SWlCJ {
    .wrapper-3Njo_c .icon-GhnIRB {
      display: none;
    }
    .folderIconWrapper-1_bOZe {
      background-color: transparent !important;
      background: transparent !important;
      margin-right: -8px;
    }
  }

  // Hide giant discord logo on "Home" button
  .wrapper-1BJsBx .childWrapper-anI2G9 .homeIcon-FuNwkv {
    display: none !important;
  }

  // "Add a Server" & "Explore Public Servers" buttons
  .guilds-1SWlCJ .circleButtonBase-2DCxIZ {
    background-color: rgb(var(--sgac-background-dark)) !important;
    border-radius: 4px !important;
    padding: 8px !important;
    height: 32px !important;
    position: relative;

    * {
      color: rgba(var(--sgac-text-color), 0.65) !important;
    }
    svg {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      right: 14px;
    }
    .childWrapper-anI2G9 {
      border: none !important;
      background: transparent !important;
      background-color: transparent !important;
    }
    // Hover & selected effects
    &.selected-1JjBPm {
      background-color: rgb(var(--sgac-accent)) !important;

      .childWrapper-anI2G9 * {
        color: rgb(var(--sgac-text-color)) !important;
      }
    }
  }

  // SHOW error message if plugin NOT detected
  .guilds-1SWlCJ {
    overflow: visible;
    &::before {
      background-image: url("https://github.com/PINPAL/StyledGuildsAsChannels/blob/main/images/warning.png?raw=true");
      background-repeat: no-repeat;
      background-size: 24px;
      background-position: center;
      content: "Error!\a\a\a DisplayServersAsChannels is not installed or enabled.";
      white-space: pre-wrap;
      text-align: center;
      z-index: 4;
      display: block;
      width: 56px;
      height: 56px;
      background-color: rgb(240, 71, 71);
      color: transparent;
      margin: 8px;
      margin-bottom: 16px;
      border-radius: 6px;
      font-size: 0%;
      transition: width 0.3s ease-in-out, height 0.3s ease-in-out,
        color 0.65s ease-in-out;
    }
    &:hover::before {
      background-position: 16px 12px;
      box-shadow: inset 0 calc(16px + 2rem) 0px 0px rgba(0, 0, 0, 0.25),
        5px 5px 15px 5px rgba(0, 0, 0, 0.2);
      padding: 16px 8px;
      padding-top: -60px;
      font-weight: 500;
      color: white;
      width: 220px;
      height: calc(32px + 4em);
      font-size: 100%;
    }
  }
}

// HIDE error message if plugin IS detected
.guilds-1SWlCJ {
  overflow: hidden;
  &::before {
    display: none !important;
  }
}
